!function(){"use strict";$.widget("rkui.baseInput",{options:{disabled:null,activeClass:"rk-ui-state-active",disableClass:"rk-ui-state-disable",errorClass:"rk-ui-state-error",initClass:"rk-ui-state-init",maxLength:"",minLength:"",require:!1,vilidataEvent:"",type:"text"},_create:function(){var t=this,e=t.element,i=t.options;e.addClass(i.initClass),i.disabled&&e.addClass(i.disableClass),t.bindEvent()},_init:function(){},valueVilidata:function(){var t=this,e=t.element,i=t.options,n=e.val();i.require&&0===n.length&&(alert("内容不能为空"),e.addClass(i.errorClass)),""!==i.maxLength&&n.length>i.maxLength&&(alert("超过最大输入长度"+i.maxLength),e.addClass(i.errorClass)),""!==i.minLength&&n.length<i.minLength&&(alert("最少输入"+i.minLengt+"字符"),e.addClass(i.errorClass))},bindEvent:function(){var t=this,e=t.element,i=t.options;e.on("focus",function(){var t=$(this);t.hasClass(i.errorClass)&&t.removeClass(i.errorClass),t.addClass(i.activeClass)}),e.on("blur",function(){var t=$(this);t.hasClass(i.activeClass)&&t.removeClass(i.activeClass)}),""!==i.vilidataEvent&&e.on(i.vilidataEvent,function(){t.valueVilidata()})}})}(),function(){"use strict";$.widget("rkui.emailInput",$.rkui.baseInput,{options:{type:"email",emailRegText:/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/},_create:function(){var t=this;t._super(),t._bindEvent()},_init:function(){},_validataEmail:function(t){var e=this,i=e.options;return!!i.emailRegText.test(t)},_bindEvent:function(){var t=this,e=t.element,i=t.options;e.on("blur",function(e){var n=$(this),a=e.timeStamp;setTimeout(function(){var s=$.trim(n.val());a-e.timeStamp==0&&(t._validataEmail(s)||(alert("邮箱格式不正确"),n.val(""),n.addClass(i.errorClass)))},1e3)})}})}(),function(){"use strict";$.widget("rk-ui.firstDemo",{options:{},_create:function(){},_init:function(){var t=this,e=t.element;e.on("click",function(){e.html("clicked!")})}})}(),function(){"use strict";$.widget("rkui.numberInput",$.rkui.baseInput,{options:{numberRegText:/^[-+]?[0-9]+(\.[0-9]+)?$/,hasPrefix:"",hasSuffix:"",type:"number"},_create:function(){var t=this;t._super(),t._bindEvent()},_init:function(){},getValue:function(){var t=this,e=t.element,i=t.options,n=e.val();return n=""!==n&&""!==i.hasPrefix&&-1===n.indexOf(i.hasPrefix)?i.hasPrefix+n:n,""!==n&&""!==i.hasSuffix&&-1===n.indexOf(i.hasSuffix)?n+=i.hasSuffix:n=n,n},setValue:function(t){var e=this,i=e.element,n=e.options;""!==n.hasPrefix&&i.val(n.hasPrefix+t),""!==n.hasSuffix&&i.val(n.hasSuffix+t)},_vilidataNum:function(t){var e=this,i=e.options;return!!i.numberRegText.test(t)},_bindEvent:function(){var t=this,e=t.element,i=t.options;e.on("keyup",function(e){var n=$(this),a=e.timeStamp;setTimeout(function(){var s=$.trim(n.val()),o=s.length;""!==i.hasPrefix&&s.indexOf(i.hasPrefix)>-1&&(s=s.substring(1,o)),""!==i.hasSuffix&&s.indexOf(i.hasSuffix)>-1&&(s=s.substring(0,o-1)),a-e.timeStamp==0&&(s=parseInt(s),t._vilidataNum(s)||(alert("只能输入数字"),n.val(""),n.addClass(i.errorClass)))},1e3)}),e.off("blur").on("blur",function(){var i=t.getValue();e.val(i)})}})}(),function(){"use strict";$.widget("rkui.phoneInput",$.rkui.baseInput,{options:{type:"phone",phoneRegText:/^1[34578]\d{9}$/},_create:function(){var t=this;t._super(),t._bindEvent()},_init:function(){},_vilidataPhone:function(t){var e=this,i=e.options;return!!i.phoneRegText.test(t)},_bindEvent:function(){var t=this,e=t.element,i=t.options;e.on("blur",function(e){var n=$(this),a=e.timeStamp;setTimeout(function(){var s=$.trim(n.val());a-e.timeStamp==0&&(t._vilidataPhone(s)||(alert("移动电话格式不正确"),n.val(""),n.addClass(i.errorClass)))},1e3)})}})}(),function(){"use strict";$.widget("rkui.selectMenu",{options:{source:null},_create:function(){var t=this,e=t.element,i=(t.options,$('<a href="javascript:;" class="rk-ui-selectmenu-add"></a>'));e.append(i),t._bindEvent()},_init:function(){var t=this;t.element,t.options},_bindEvent:function(){var t=this,e=t.element;t.options;e.on("click","a.rk-ui-selectmenu-add",function(){var e=($(this),$("body").find(".rk-ui-selectmenu-combobox.rk-ui-selectmenu-open"));e.size()>0?(e.hide(),e.removeClass("rk-ui-selectmenu-open")):t._showComboBox()})},_showComboBox:function(){var t=this,e=t.element,i=(t.options,$('<div class="rk-ui-selectmenu-combobox"></div>'));$("body").find(".rk-ui-selectmenu-combobox").size()>0?($(".rk-ui-selectmenu-combobox").show(),$(".rk-ui-selectmenu-combobox").addClass("rk-ui-selectmenu-open")):($("body").append(i),i.addClass("rk-ui-selectmenu-open"));var n=e.find(".rk-ui-selectmenu-input");console.log("1",n.width),t._comboBoxSource();var a=n.offset(),s=e.width();$(i).css({left:a.left,top:a.top-100,width:s})},_comboBoxSource:function(){for(var t=this,e=(t.element,t.options),i={status:0,data:[{id:10207,label:[{id:1,value:"亲切"},{id:2,value:"服务态度好"},{id:3,value:"效率高"}]}]},n=e.source||i,a=n.data[0].label,s=$('<ul class="rk-ui-selectmenu-content"></ul>'),o=0,r=a.length;o<r;o++){var u='<li><a href="javascript:;">'+a[o].value+"</a></li>";s.append(u)}$(".rk-ui-selectmenu-combobox").append(s)}})}(),function(){"use strict";$.widget("rkui.telInput",$.rkui.baseInput,{options:{type:"tel",telRegText:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/},_create:function(){var t=this;t._super(),t._bindEvent()},_init:function(){},_vilidataTel:function(t){var e=this,i=e.options;return!!i.telRegText.test(t)},_bindEvent:function(){var t=this,e=t.element,i=t.options;e.on("blur",function(e){var n=$(this),a=e.timeStamp;setTimeout(function(){var s=$.trim(n.val());a-e.timeStamp==0&&(t._vilidataTel(s)||(alert("固定电话格式不正确"),n.val(""),n.addClass(i.errorClass)))},1e3)})}})}(),function(){"use strict";$.widget("rkui.textarea",{options:{activeClass:"rk-ui-state-active",disabledClass:"rk-ui-state-disable",initClass:"rk-ui-state-init",errorClass:"rk-ui-state-error",width:300,height:50,maxLength:500,minlength:null,autoHeight:!0,showLable:!0},_create:function(){var t=this,e=t.element,i=t.options;e.find("textarea").addClass(i.initClass),e.css({width:i.width,height:i.height}),i.autoHeight&&t._autoHeight(),t._bindEvent(),t._showLabel()},_init:function(){},_autoHeight:function(){var t=this,e=t.element,i=e.find("textarea"),n=i;n.attr("_initAdjustHeight")||n.attr("_initAdjustHeight",n.outerHeight()),t._adjustH(n),t._adjustH(n).on("input",function(){t._adjustH(n)})},_adjustH:function(t){var e=t;return e.css({height:e.attr("_initAdjustHeight"),"overflow-y":"hidden"}).height(t[0].scrollHeight)},_showLabel:function(){var t=this,e=t.element,i=t.options;t.size=0;var n=$('<div class="rk-ui-textarea-label"><span class="num">'+t.size+"</span><span>/</span><span>"+i.maxLength+"</span></div>");i.showLable&&e.append(n),e.find("textarea").on("keyup",function(){var i=$(this).val().length;t.size=i,e.find(".num").text(t.size)})},_bindEvent:function(){var t=this,e=t.element,i=t.options,n=e.find("textarea");n.on("focus",function(){var t=$(this);t.addClass(i.errorClass)&&t.removeClass(i.errorClass),t.addClass(i.activeClass)}),n.on("blur",function(){var t=$(this);t.addClass(i.activeClass)&&t.removeClass(i.activeClass)})}})}();